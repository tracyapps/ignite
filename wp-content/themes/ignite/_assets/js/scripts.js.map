{"version":3,"sources":["3d-logo.js","darkmode-lightmode-toggle.js","mobile-filter-toggle.js","nav-toggle.js","nav.js","search-bar.js","simple-parallax-scroll.js","splide.js","sticky-header-helper.js"],"names":["document","addEventListener","logo","querySelector","logoWrapper","animationFrame","currentX","currentY","targetX","targetY","animate","style","transform","requestAnimationFrame","e","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","cancelAnimationFrame","transition","setTimeout","ITSDarkMode","init","this","setInitialMode","changeListener","tabindexListener","isDarkMode","localStorage","getItem","classList","toggle","querySelectorAll","forEach","$t","checked","$darkToggles","length","currentTarget","$s","key","keyCode","$checkbox","closest","isChecked","setItem","body","jQuery","ready","$","on","preventDefault","toggleClass","text","i","t","menuItems","subMenus","currentIndex","currentSubMenu","closeAllSubMenus","menu","display","opacity","parentLink","previousElementSibling","tagName","setAttribute","openSubMenu","handleClick","event","target","subMenu","parentElement","item","nextMenuItem","focus","nextElementSibling","contains","prevMenuItem","focusedItem","activeElement","subMenuItems","Array","from","focusedIndex","indexOf","fn","toggleAttrVal","attr","val1","val2","test","$menuToggleButton","$headerCenter","$body","$navSlideout","$navItems","find","setTabIndex","tabIndex","hasClass","removeClass","hide","direction","addClass","show","first","siteheader","getElementsByClassName","menutoggle","getElementById","menubutton_topline","menubutton_bottomline","window","scrollY","add","parallaxElement","parallaxQuantity","currentElement","eq","windowTop","scrollTop","elementHeight","offset","scrollin","innerHeight","scrollinlimited","Math","min","matchMedia","matches","css","Splide","defaults","perPage","perMove","gap","autoHeight","drag","noDrag","dragMinThreshold","mouse","touch","keyboard","wheel","releaseWheel","trimSpace","cover","breakpoints","elms","mount","checkScroll","scroll"],"mappings":"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","file":"scripts.js","sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst logo = document.querySelector('#ITS-logo');\n\tconst logoWrapper = document.querySelector('#ITS_MAIN_LOGO a');\n\n\tlet currentX = 0;\n\tlet currentY = 0;\n\tlet targetX = 0;\n\tlet targetY = 0;\n\tlet animationFrame;\n\n\tconst maxTilt = 80; // tilt for visible sides\n\tconst scale = 1.02; // Slight scale for lift\n\tconst easing = 0.208; // Smooth catch-up\n\n\tfunction animate() {\n\t\tcurrentX += (targetX - currentX) * easing;\n\t\tcurrentY += (targetY - currentY) * easing;\n\n\t\tlogo.style.transform = `\n      perspective(800px)\n      rotateX(${currentY * maxTilt}deg)\n      rotateY(${currentX * maxTilt}deg)\n      scale(${scale})\n    `;\n\n\t\tanimationFrame = requestAnimationFrame(animate);\n\t}\n\n\tlogoWrapper.addEventListener('mouseenter', () => {\n\t\tanimationFrame = requestAnimationFrame(animate);\n\t});\n\n\tlogoWrapper.addEventListener('mousemove', (e) => {\n\t\tconst rect = logo.getBoundingClientRect();\n\t\tconst x = (e.clientX - rect.left) / rect.width - 0.5;\n\t\tconst y = (e.clientY - rect.top) / rect.height - 0.5;\n\n\t\ttargetX = x * 1.5;\n\t\ttargetY = y * 1.5;\n\t});\n\n\tlogoWrapper.addEventListener('mouseleave', () => {\n\t\tcancelAnimationFrame(animationFrame);\n\t\ttargetX = 0;\n\t\ttargetY = 0;\n\t\tlogo.style.transition = 'transform 0.6s cubic-bezier(0.25, 1, 0.5, 1)';\n\t\tlogo.style.transform = 'perspective(800px) rotateX(0deg) rotateY(0deg) scale(1)';\n\t\tsetTimeout(() => logo.style.transition = '', 600);\n\t});\n});","const ITSDarkMode = {\n  init() {\n    this.setInitialMode();\n    this.changeListener();\n    this.tabindexListener();\n  },\n\n  /**\n   * Set initial mode based on localStorage\n   */\n  setInitialMode() {\n    const isDarkMode = localStorage.getItem('darkMode') === 'true';\n    document.querySelector('body').classList.toggle('theme-light', !isDarkMode);\n    document.querySelector('body').classList.toggle('theme-dark', isDarkMode);\n\n    const $darkToggles = document.querySelectorAll('.darkmode_switch input[type=\"checkbox\"]');\n    $darkToggles.forEach($t => {\n      $t.checked = isDarkMode;\n    });\n  },\n\n  /**\n   * Change listener for dark mode toggle\n   */\n  changeListener() {\n    const $darkToggles = document.querySelectorAll('.darkmode_switch input[type=\"checkbox\"]');\n    if ($darkToggles.length <= 0) { return; }\n\n    $darkToggles.forEach(($t) => {\n      $t.addEventListener('change', (e) => {\n        this.toggle(e.currentTarget.checked);\n      });\n    });\n  },\n\n  /**\n   * Keyboard listener for dark mode toggle\n   */\n  tabindexListener() {\n    const $darkSwitches = document.querySelectorAll('.switch__input');\n\n    $darkSwitches.forEach(($s) => {\n      $s.addEventListener('keyup', (e) => {\n        if (e.key === 'Enter' || e.keyCode === 13) {\n          const $checkbox = e.currentTarget.closest('.darkmode_switch').querySelector('input[type=\"checkbox\"]');\n          $checkbox.checked = !$checkbox.checked;\n          this.toggle($checkbox.checked);\n        }\n      });\n    });\n  },\n\n  /**\n   * Toggle the body class and cache the variable\n   */\n  toggle(isChecked) {\n    document.querySelector('body').classList.toggle('theme-light', !isChecked);\n    document.querySelector('body').classList.toggle('theme-dark', isChecked);\n    localStorage.setItem('darkMode', isChecked);\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ITSDarkMode.init();\n});\n\nsetTimeout(function(){\n    document.body.classList.toggle('preload');\n},500);","/**\n *  show/hide toggle for the browse content filters on mobile\n */\n\n\njQuery(document).ready(function ($) {\n\t$('#mobile_filter_toggle_button').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$( '.browse_content_main' ).toggleClass( 'filter_is_open' );\n\t\t$('.browse_content_main .filter_column').toggleClass('open');\n\t\t $(this).text((i, t) => t == 'Show More Filters' ? 'Hide More Filters' : 'Show More Filters');\n\t});\n\n});","(function($) {\n\t\"use strict\";\n\n\t//dropdown toggle\n\t// keyboard and click control of main nav, for those with javascript enabled.\n\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\tconst menuItems = document.querySelectorAll('#menu-main-navigation > .menu-item > a');\n\tconst subMenus = document.querySelectorAll('.sub-menu');\n\n\tlet currentIndex = -1;\n\tlet currentSubMenu = null;\n\n\tfunction closeAllSubMenus() {\n\t\tsubMenus.forEach(menu => {\n\t\t\tmenu.style.display = 'none';\n\t\t\tmenu.style.opacity = '0';\n\n\t\t\t// Set aria-expanded to false for the corresponding parent <a>\n\t\t\tconst parentLink = menu.previousElementSibling;\n\t\t\tif (parentLink && parentLink.tagName === 'A') {\n\t\t\t\tparentLink.setAttribute('aria-expanded', 'false');\n\t\t\t}\n\t\t});\n\t\tcurrentSubMenu = null;\n\t}\n\n\tfunction openSubMenu(menu) {\n\t\tmenu.style.display = 'block';\n\t\tmenu.style.opacity = '1';\n\n\t\t// Set aria-expanded to true for the corresponding parent <a>\n\t\tconst parentLink = menu.previousElementSibling;\n\t\tif (parentLink && parentLink.tagName === 'A') {\n\t\t\tparentLink.setAttribute('aria-expanded', 'true');\n\t\t}\n\t}\n\n\tfunction handleKeyDown(event) {\n\t\tif (event.key === 'ArrowRight') {\n\t\t\tif (currentIndex < menuItems.length - 1) {\n\t\t\t\tcurrentIndex++;\n\t\t\t\tconst nextMenuItem = menuItems[currentIndex];\n\t\t\t\tif (currentSubMenu) closeAllSubMenus();\n\t\t\t\tnextMenuItem.focus();\n\t\t\t\tcurrentSubMenu = nextMenuItem.nextElementSibling;\n\t\t\t\tif (currentSubMenu && currentSubMenu.classList.contains('sub-menu')) openSubMenu(currentSubMenu);\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'ArrowLeft') {\n\t\t\tif (currentIndex > 0) {\n\t\t\t\tcurrentIndex--;\n\t\t\t\tconst prevMenuItem = menuItems[currentIndex];\n\t\t\t\tif (currentSubMenu) closeAllSubMenus();\n\t\t\t\tprevMenuItem.focus();\n\t\t\t\tcurrentSubMenu = prevMenuItem.nextElementSibling;\n\t\t\t\tif (currentSubMenu && currentSubMenu.classList.contains('sub-menu')) openSubMenu(currentSubMenu);\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'ArrowDown') {\n\t\t\tif (currentSubMenu) {\n\t\t\t\tconst focusedItem = document.activeElement;\n\t\t\t\tconst subMenuItems = Array.from(currentSubMenu.querySelectorAll('.menu-item a'));\n\t\t\t\tconst focusedIndex = subMenuItems.indexOf(focusedItem);\n\t\t\t\tif (focusedIndex < subMenuItems.length - 1) {\n\t\t\t\t\tsubMenuItems[focusedIndex + 1].focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'ArrowUp') {\n\t\t\tif (currentSubMenu) {\n\t\t\t\tconst focusedItem = document.activeElement;\n\t\t\t\tconst subMenuItems = Array.from(currentSubMenu.querySelectorAll('.menu-item a'));\n\t\t\t\tconst focusedIndex = subMenuItems.indexOf(focusedItem);\n\t\t\t\tif (focusedIndex > 0) {\n\t\t\t\t\tsubMenuItems[focusedIndex - 1].focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'Escape') {\n\t\t\tcloseAllSubMenus();\n\t\t\tcurrentIndex = -1;\n\t\t\tif (document.activeElement && document.activeElement.closest('.menu-item')) {\n\t\t\t\tdocument.querySelector('.menu-item a').focus();\n\t\t\t}\n\t\t}\n\t}\n\tfunction handleClick(event) {\n\t\tconst target = event.target.closest('.menu-item > a');\n\t\tif (target) {\n\t\t\tconst menuItem = target.parentElement;\n\t\t\tconst subMenu = menuItem.querySelector('.sub-menu');\n\n\t\t\tif (subMenu) {\n\t\t\t\t// Toggle the sub-menu visibility\n\t\t\t\tif (subMenu.style.display === 'block') {\n\t\t\t\t\tcloseAllSubMenus();\n\t\t\t\t} else {\n\t\t\t\t\tcloseAllSubMenus();\n\t\t\t\t\topenSubMenu(subMenu);\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t}\n\n\t\tmenuItems.forEach(item => item.addEventListener('click', handleClick));\n\t\tdocument.addEventListener('keydown', handleKeyDown);\n\t});\n\n\t// mobile nav toggle\n\n/*\n\t$( '#menu_toggle_button' ).on( 'click', function(e) {\n\t\t$(this).toggleClass('main_nav_open');\n\t\t$('body').toggleClass('main_nav_is_open');\n\t\t$( 'path.top_line' ).toggleAttrVal( 'd', 'm 5 5 l 30 30', 'm 15 10 l 20 0');\n\t\t$( 'path.bottom_line' ).toggleAttrVal( 'd', 'm 5 35 l 30 -30', 'm 5 30 l 30 0');\n\t}); */\n\n\t$(document).ready(function () {\n\n\t\t// jquery toggle just the attribute value\n\t\t$.fn.toggleAttrVal = function (attr, val1, val2) {\n\t\t\tvar test = $(this).attr(attr);\n\t\t\tif (test === val1) {\n\t\t\t\t$(this).attr(attr, val2);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif (test === val2) {\n\t\t\t\t$(this).attr(attr, val1);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t// default to val1 if neither\n\t\t\t$(this).attr(attr, val1);\n\t\t\treturn this;\n\t\t};\n\n\t\tconst $menuToggleButton = $('#menu_toggle_button');\n\t\tconst $headerCenter = $('.header_center');\n\t\tconst $body = $('body');\n\t\tconst $navSlideout = $('.header_center');\n\t\tconst $navItems = $headerCenter.find('a'); // Adjust the selector to match your nav items\n\n\t\tconst setTabIndex = (tabIndex) => {\n\t\t\t$navItems.attr('tabindex', tabIndex);\n\t\t};\n\n\t\t// Initially set tabindex to -1 for all nav items\n\t//\tsetTabIndex('-1');\n\n\t\t$menuToggleButton.on('click', function() {\n\t\t\tif ($body.hasClass('main_nav_is_open')) {\n\t\t\t\t// Close the menu\n\t\t\t\t$body.removeClass('main_nav_is_open');\n\t\t\t\t$menuToggleButton.removeClass('main_nav_open');\n\t\t\t\t$navSlideout.hide('slide', { direction: 'right' }, 500);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$headerCenter.attr( 'style', ''); //remove inline styles after finished animating\n\t\t\t\t}, 501);\n\t\t\t\t$('path.top_line').toggleAttrVal('d', 'm 5 5 l 30 30', 'm 15 10 l 20 0');\n\t\t\t\t$('path.bottom_line').toggleAttrVal('d', 'm 5 35 l 30 -30', 'm 5 30 l 30 0');\n\t\t\t\tsetTabIndex('-1'); // Disable tabbing to nav items\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$menuToggleButton.focus(); // Set focus back to the menu toggle button after 50ms\n\t\t\t\t}, 500);\n\t\t\t} else {\n\t\t\t\t// Open the menu\n\t\t\t\t$body.addClass('main_nav_is_open');\n\t\t\t\t$menuToggleButton.addClass('main_nav_open');\n\t\t\t\t$navSlideout.show('slide', { direction: 'right' }, 500 );\n\t\t\t\t$('path.top_line').toggleAttrVal('d', 'm 5 5 l 30 30', 'm 15 10 l 20 0');\n\t\t\t\t$('path.bottom_line').toggleAttrVal('d', 'm 5 35 l 30 -30', 'm 5 30 l 30 0');\n\t\t\t\tsetTabIndex('0'); // Enable tabbing to nav items\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$navItems.first().focus(); // Set focus to the first nav item after 500ms\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t});\n\t});\n\n\n\n})(jQuery);\n\n","/**\n *\n * fixing javascripts not firing on page SHOW (like hitting the back button)\n *\n */\nvar body = document.querySelector('body');\nvar siteheader = document.querySelector('header').getElementsByClassName('site_main_header')[0];\nvar menutoggle = document.getElementById('menu_toggle_button');\nvar menubutton_topline = document.getElementsByClassName('top_line')[0];\nvar menubutton_bottomline = document.getElementsByClassName('bottom_line')[0];\n\nwindow.addEventListener('pageshow', function (event) {\n\n/* \tbody.classList.remove('main_nav_is_open');\n\tutility_nav.classList.add('hidden');\n\tmenutoggle.classList.remove('main_nav_open');\n\tmenubutton_topline.setAttribute('d', 'm 15 10 l 20 0');\n\tmenubutton_bottomline.setAttribute('d', 'm 5 30 l 30 0'); */\n\n\tif (window.scrollY >= 50) {\n\t\tsiteheader.classList.add('smaller');\n\t}\n});","/**\n *  show/hide search bar in the header.\n */\n\n\njQuery(document).ready(function ($) {\n\n\t$('#search_bar_toggle').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$('body').toggleClass('search_is_open');\n\t\tif ($(this).hasClass('search_closed')) {\n\t\t\t$(this).removeClass('search_closed').addClass('search_open');\n\t\t\t$('.site_search_bar').removeClass('search_closed').addClass('search_open');\n\t\t} else {\n\t\t\t$(this).removeClass('search_open').addClass('search_closed');\n\t\t\t$('.site_search_bar').removeClass('search_open').addClass('search_closed');\n\t\t}\n\t});\n\n\t$('.jetpack-instant-search__overlay-close').on('click', function (e) {\n\t\t$('body').toggleClass('search_is_open');\n\t\t$('#search_bar_toggle').removeClass('search_open').addClass('search_closed');\n\t\t$('.site_search_bar').removeClass('search_open').addClass('search_closed');\n\t});\n});","jQuery(document).ready(function ($) {\n\t//parallax scroll\n\t$(window).on(\"load scroll\", function () {\n\t\tvar parallaxElement = $(\".simple_parallax_scroll\"),\n\t\t\tparallaxQuantity = parallaxElement.length;\n\t\twindow.requestAnimationFrame(function () {\n\t\t\tfor (var i = 0; i < parallaxQuantity; i++) {\n\t\t\t\tvar currentElement = parallaxElement.eq(i),\n\t\t\t\t\twindowTop = $(window).scrollTop(),\n\t\t\t\t\telementTop = currentElement.offset().top,\n\t\t\t\t\telementHeight = currentElement.height(),\n\t\t\t\t\tviewPortHeight = window.innerHeight * 0.5 - elementHeight * 0.5,\n\t\t\t\t\t//scrolled = windowTop - elementTop + viewPortHeight;\n\t\t\t\t\tscrollin = (viewPortHeight / elementHeight) * (windowTop + 0.01)\n\t\t\t\t\tscrollinlimited = Math.min( scrollin, 100 );\n\n\t\t\t\tif (window.matchMedia(\"(orientation: portrait)\").matches) {\n\t\t\t\t\tcurrentElement.css({\n\t\t\t\t\t\t'object-position':  scrollinlimited + \"% center\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrentElement.css({\n\t\t\t\t\t\t'object-position': \"center \" + scrollinlimited + \"%\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n});\n","document.addEventListener('DOMContentLoaded', function () {\n\n\n\tSplide.defaults = {\n\t\tperPage: 5,\n\t\tperMove: 1,\n\t\tgap: '2rem',\n\t//height: 'auto',\n\t\tautoHeight: true,\n\t\tdrag: 'free',\n\t\tnoDrag: 'input, textarea, .no-drag',\n\t\tdragMinThreshold: {\n\t\t\tmouse: 0,\n\t\t\ttouch: 10,\n\t\t},\n\t\tkeyboard: true,\n\t\twheel: true,\n\t\treleaseWheel: true,\n\t\ttrimSpace: false,\n\t\tcover: true,\n\n\t\tbreakpoints: {\n\t\t\t900: {\n\t\t\t\tperPage: 4,\n\t\t\t\theight: '150px',\n\t\t\t},\n\t\t\t640: {\n\t\t\t\tperPage: 3,\n\t\t\t\theight: '125px',\n\t\t\t},\n\t\t\t480: {\n\t\t\t\tperPage: 2,\n\t\t\t\theight: '100px',\n\t\t\t},\n\t\t},\n\t}\n\n\tvar elms = document.getElementsByClassName( 'splide' );\n\tfor ( var i = 0; i < elms.length; i++ ) {\n\t\tnew Splide( elms[ i ] ).mount();\n\t}\n/*\n\tvar splide = new Splide( '.splide' );\n    splide.mount();\n */\n\n\n});\n","/**\n * adding \"smaller\" class for the top fixed nav\n */\n\n\njQuery(document).ready( function($) {\n\n\tfunction checkScroll() {\n\t\tif ($(window).scrollTop() > 120) {\n\t\t\t$('header.site_main_header').addClass('smaller');\n\t\t} else {\n\t\t\t$('header.site_main_header').removeClass('smaller');\n\t\t}\n\t}\n\n\t// Check scroll position on page load\n\tcheckScroll();\n\n\t// Check scroll position on scroll event\n\t$(window).scroll(function() {\n\t\tcheckScroll();\n\t});\n\n\t// Check scroll position if page loaded already scrolled\n\t$(window).on('load', function() {\n\t\tcheckScroll();\n\t});\n\n});"]}